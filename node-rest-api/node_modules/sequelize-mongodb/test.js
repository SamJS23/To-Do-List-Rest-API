const { MongoSequelize } = require("./index");

(async () => {
  const sequelize = new MongoSequelize(
    "mongodb+srv://bagusmanuaba:BagzDBTest!1@authcluster.o5xinaf.mongodb.net/?retryWrites=true&w=majority&appName=AuthCluster"
  );

  await sequelize.authenticate();

  const User = sequelize.define("User", {
    name: { type: String, required: true },
    email: { type: String, required: true, unique: true },
    age: { type: Number, min: 18 },
  });

  await User.create({ name: "Alice", email: "alice@example.com", age: 25 });

  const users = await User.findAll();
  console.log(users);
})();
